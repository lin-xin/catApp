{"version":3,"file":"pages/index/index.js","sources":["webpack:///._node_modules_@babel_runtime_helpers_esm_objectSpread2.js","webpack:///./src/pages/index/index.vue?1497","webpack:///._src_pages_index_index.vue","webpack:///./src/pages/index/index.vue?2ecd","webpack:///._node_modules_vue-loader_dist_exportHelper.js","webpack:///._src_assets_imgs_banner.jpg","webpack:///._src_assets_voice_1.mp3","webpack:///._src_assets_voice_2.mp3","webpack:///._src_assets_voice_3.mp3","webpack:///._src_assets_voice_4.mp3","webpack:///./src/pages/index/index.vue?e724","webpack:///./src/pages/index/index.vue?5b58","webpack:///./src/pages/index/index.vue?bda3","webpack:///./src/pages/index/index.vue?550b"],"sourcesContent":["import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { render } from \"./index.vue?vue&type=template&id=1badc801\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1badc801&lang=scss\"\n\nimport exportComponent from \"D:\\\\project\\\\test\\\\catApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/pages/index/index.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1badc801\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1badc801', __exports__)) {\n    console.log('reload')\n    api.reload('1badc801', __exports__)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=1badc801\", () => {\n    console.log('re-render')\n    api.rerender('1badc801', render)\n  })\n\n}\n\n\nexport default __exports__","<template>\r\n    <view class=\"index\">\r\n        <view class=\"header\">\r\n            <image class=\"banner\" mode=\"aspectFill\" src='../../assets/imgs/banner.jpg' />\r\n            <view class=\"mask\"></view>\r\n            <view class=\"userinfo\">\r\n                <nut-avatar size=\"large\" icon=\"https://lin-xin.gitee.io/images/linxin.jpg\"></nut-avatar>\r\n                <text class=\"userinfo-text\">胖虎</text>\r\n            </view>\r\n        </view>\r\n        <view class=\"main-index\" v-if=\"action === 0\">\r\n            <view style=\"margin-bottom: 10px\">\r\n                <text class=\"main-title\">转成喵语</text>\r\n            </view>\r\n            <nut-input placeholder=\"输入想对喵喵说的话\" label=\"铲屎官:\" v-model=\"msg\" clearable max-length=\"10\" />\r\n            <nut-button class=\"main-btn mgt20\" block type=\"info\" @click=\"playVoice\">转换并播放\r\n            </nut-button>\r\n        </view>\r\n\r\n        <view class=\"main-index\" v-else-if=\"action === 1\">\r\n            <view style=\"margin-bottom: 10px\">\r\n                <text class=\"main-title\">翻译喵语</text>\r\n            </view>\r\n            <nut-button class=\"main-btn mgt20\" block type=\"info\" icon=\"microphone\" @longpress=\"handleLongpress\"\r\n                @touchend=\"touchEnd\">\r\n                {{msg3}}\r\n            </nut-button>\r\n            <view v-if=\"!recording && recordText\">\r\n                <view class=\"voice-view mgt20\" @click=\"playRecordSrc\">\r\n                    <text>{{recordDuration}}''</text>\r\n                </view>\r\n                <view class=\"voice-view mgt20 voice-view-text\">\r\n                    <text>{{recordText}}</text>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <view class=\"main-index\" v-else-if=\"action===2\">\r\n            <view style=\"margin-bottom: 10px\">\r\n                <text class=\"main-title\">个人中心</text>\r\n            </view>\r\n        </view>\r\n\r\n        <nut-toast :msg=\"msg2\" v-model:visible=\"show\" :type=\"type\" :cover=\"cover\" />\r\n        <nut-tabbar unactive-color=\"#7d7e80\" active-color=\"#1989fa\" :bottom=\"true\" @tab-switch=\"tabSwitch\">\r\n            <nut-tabbar-item tab-title=\"首页\" icon=\"home\" key=\"home\"></nut-tabbar-item>\r\n            <nut-tabbar-item tab-title=\"喵语\" icon=\"service\" key=\"service\"></nut-tabbar-item>\r\n            <nut-tabbar-item tab-title=\"我的\" icon=\"my2\" key=\"my2\"></nut-tabbar-item>\r\n        </nut-tabbar>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, toRefs } from \"vue\";\r\nimport Taro from \"@tarojs/taro\";\r\nexport default {\r\n    name: \"Index\",\r\n    components: {},\r\n    setup() {\r\n        const state = reactive({\r\n            msg: \"\",\r\n            msg2: \"\",\r\n            type: \"text\",\r\n            show: false,\r\n            cover: false,\r\n            voice: [\r\n                require(\"../../assets/voice/1.mp3\"),\r\n                require(\"../../assets/voice/2.mp3\"),\r\n                require(\"../../assets/voice/3.mp3\"),\r\n                require(\"../../assets/voice/4.mp3\"),\r\n            ],\r\n            catText: [\r\n                \"铲屎的，我饿了\",\r\n                \"主人陪我玩一下嘛\",\r\n                \"摸摸我吧\",\r\n                \"主人求抱抱\",\r\n                \"我想吃零食了\",\r\n                \"我要玩具\",\r\n            ],\r\n        });\r\n        // 音频播放\r\n        const innerAudioContext = Taro.createInnerAudioContext();\r\n        Taro.setInnerAudioOption({\r\n            obeyMuteSwitch: false,\r\n        });\r\n\r\n        const playVoice = () => {\r\n            if (!state.msg.length) {\r\n                state.msg2 = \"输入想对喵喵说的话\";\r\n                state.show = true;\r\n                return;\r\n            }\r\n            let tempFilePath = \"\";\r\n            if (state.msg.length < 5) {\r\n                tempFilePath = state.voice[Math.round(Math.random() * 2)];\r\n            } else {\r\n                tempFilePath = state.voice[3];\r\n            }\r\n            Taro.playVoice({\r\n                filePath: tempFilePath,\r\n                complete() {\r\n                    state.msg2 = \"播放完成\";\r\n                    state.show = true;\r\n                },\r\n            });\r\n        };\r\n\r\n        const action = ref(0);\r\n        const tabSwitch = (val) => {\r\n            action.value = val.index;\r\n        };\r\n\r\n        // 录音\r\n        const msg3 = ref(\"开始录音\");\r\n        let recording = ref(false);\r\n        let recordSrc = \"\";\r\n        const recordDuration = ref(0);\r\n        const recordText = ref(\"\");\r\n        const recorderManager = Taro.getRecorderManager();\r\n        recorderManager.onStart(() => {\r\n            console.log(\"recorder start\");\r\n        });\r\n        recorderManager.onStop((res) => {\r\n            console.log(\"recorder stop\", res);\r\n            const { tempFilePath, duration } = res;\r\n            innerAudioContext.src = recordSrc = tempFilePath;\r\n            innerAudioContext.play();\r\n            recordDuration.value = Math.ceil(duration / 1000);\r\n            recordText.value = state.catText[Math.round(Math.random() * 6)];\r\n        });\r\n        const handleRecord = () => {\r\n            // if (!recording.value) {\r\n            //     msg3.value = \"录音中，点击停止\";\r\n            //     recordText.value = \"\";\r\n            //     recording.value = true;\r\n            //     recorderManager.start();\r\n            // } else {\r\n            //     recorderManager.stop();\r\n            //     msg3.value = \"开始录音\";\r\n            //     recording.value = false;\r\n            // }\r\n        };\r\n\r\n        const playRecordSrc = () => {\r\n            innerAudioContext.src = recordSrc;\r\n            innerAudioContext.play();\r\n        };\r\n\r\n        const handleLongpress = () => {\r\n            console.log(123123);\r\n            if (!recording.value) {\r\n                msg3.value = \"录音中，点击停止\";\r\n                recordText.value = \"\";\r\n                recording.value = true;\r\n                recorderManager.start();\r\n            } else {\r\n                recorderManager.stop();\r\n                msg3.value = \"开始录音\";\r\n                recording.value = false;\r\n            }\r\n        };\r\n        const touchEnd = () => {\r\n            console.log(\"end\");\r\n            recorderManager.stop();\r\n            msg3.value = \"开始录音\";\r\n            recording.value = false;\r\n        };\r\n\r\n        return {\r\n            ...toRefs(state),\r\n            playVoice,\r\n            action,\r\n            tabSwitch,\r\n            msg3,\r\n            recording,\r\n            recordDuration,\r\n            recordText,\r\n            handleRecord,\r\n            playRecordSrc,\r\n            handleLongpress,\r\n            touchEnd,\r\n        };\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.index {\r\n    padding: 0;\r\n}\r\n.header {\r\n    position: relative;\r\n    justify-content: center;\r\n}\r\n.banner {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n.mask {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.userinfo {\r\n    position: absolute;\r\n    width: 80%;\r\n    left: 30px;\r\n    top: 50%;\r\n    margin-top: -30px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n.userinfo-text {\r\n    color: #fff;\r\n    font-size: 18px;\r\n    margin-left: 15px;\r\n}\r\n.main-index {\r\n    padding: 30px 20px;\r\n}\r\n.main-title {\r\n    margin-bottom: 10px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n}\r\n.voice-view {\r\n    width: 40%;\r\n    height: 35px;\r\n    background-color: #f1f1f1;\r\n    line-height: 35px;\r\n    padding-left: 10px;\r\n    border-radius: 5px;\r\n}\r\n.mgt20 {\r\n    margin-top: 20px;\r\n}\r\n.voice-view-text {\r\n    width: auto;\r\n    min-width: 20%;\r\n}\r\n</style>\r\n","// extracted by mini-css-extract-plugin","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    for (const [key, val] of props) {\n        sfc[key] = val;\n    }\n    return sfc;\n};\n","module.exports = __webpack_public_path__ + \"assets/imgs/banner.jpg\";","module.exports = __webpack_public_path__ + \"assets/voice/1.mp3\";","module.exports = __webpack_public_path__ + \"assets/voice/2.mp3\";","module.exports = __webpack_public_path__ + \"assets/voice/3.mp3\";","module.exports = __webpack_public_path__ + \"assets/voice/4.mp3\";","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"首页\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/index', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/@tarojs/mini-runner/node_modules/css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/@tarojs/mini-runner/node_modules/postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../node_modules/@tarojs/mini-runner/node_modules/resolve-url-loader/index.js!../../../node_modules/sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=style&index=0&id=1badc801&lang=scss\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=1badc801\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAZA;AACA;AAqBA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AA/HA;;;;;;;;;;;;;;;;;;;AApDA;;AAFA;;;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAAA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;;;AACA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;;AADA;AACA;AAGA;AACA;;;AAGA;;;AACA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;;AADA;AACA;;;;;AAUA;;;;AAMA;;;AACA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;;AADA;AACA;AADA;;;;;;;;;;;;;;AArCA;AAKA;AAAA;AAAA;AAQA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;;;;AAAA;;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;;;;AAFA;;AAAA;AAKA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAGA;AAAA;AAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;;;;AADA;;AAAA;;;;;;;;;;;;AC5CA;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}